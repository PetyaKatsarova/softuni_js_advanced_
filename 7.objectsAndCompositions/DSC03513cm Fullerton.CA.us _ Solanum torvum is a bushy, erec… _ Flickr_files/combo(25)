YUI.add("hermes-template-flickr-balls",function(e,a){var l=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,l,r,s){return'<div class="balls">\n\t<div class="blue ball"></div><div class="pink ball"></div>\n</div>'},useData:!0}),r={};e.Array.each([],function(a){var l=e.Template.get("hermes/"+a);l&&(r[a]=l)}),e.Template.register("hermes/flickr-balls",function(a,s){return s=s||{},s.partials=s.partials?e.merge(r,s.partials):r,l(a,s)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("fluid-overlay-manager-view",function(e){"use strict";var l=0,i=e.Base.create("overlayManager",e.Base,[],{add:function(i){var a=this.get("overlay"),s=i.getAttrs(),t=this;this.get("modals").push(i),a?s.dismissOnOverlayClick&&this.set("dismissOnOverlayClick",!0):(a=e.Node.create(this.get("overlayHTML")),e.one("body").append(a),this.set("overlay",a),l++,this.addOverlayClickHandler(a),this.addOverlayKeyHandler(a),s.dismissOnOverlayClick?this.set("dismissOnOverlayClick",!0):this.set("dismissOnOverlayClick",!1)),this.setOverlayStyle(s),s.dismissOnActionClick&&i.on("actionClick",function(){setTimeout(function(){t.close()},0)}),"fluid-modal-view"===i.name&&i.on("cancelClick",function(){setTimeout(function(){t.close()},0)})},setOverlayStyle:function(e){var l="",i="",a="",s="",t=this.get("overlay");window.appContext.flipper.isFlipped("enable-stacking-overlays")||(s="no-stack-flip"),e.hideModalOverlay&&(l="transparent"),e.darkOverlay&&(l="darker-overlay"),e.lightOverlay&&(l="light-overlay"),e.invisibleOverlay&&(i="invisible"),e.overlayClassList&&(a=e.overlayClassList),t.setAttribute("class",this.get("overlayClass")+" "+s+" "+a+" "+l+" "+i)},addOverlayClickHandler:function(e){e.getDOMNode().addEventListener("click",this.clickHandler.bind(this))},removeOverlayClickHandler:function(e){e.getDOMNode().removeEventListener("click",this.clickHandler.bind(this))},addOverlayKeyHandler:function(l){e.one("body").getDOMNode().addEventListener("keyup",this.keyHandler.bind(this))},removeOverlayKeyHandler:function(l){e.one("body").getDOMNode().removeEventListener("keyup",this.keyHandler.bind(this))},keyHandler:function(e){27===e.keyCode&&this.clickHandler()},clickHandler:function(){var e,l=this.get("modals").length-2,i="",a="",s="",t=this.get("overlay"),r="";this.get("dismissOnOverlayClick")&&(this.set("dismissOnOverlayClick",!1),this.close(),l>-1&&this.get("modals").length>0&&(e=this.get("modals")[l].getAttrs(),window.appContext.flipper.isFlipped("enable-stacking-overlays")||(r="no-stack-flip"),e.hideModalOverlay&&(i="transparent"),e.invisibleOverlay&&(a="invisible"),e.overlayClassList&&(s=e.overlayClassList),t.setAttribute("class",this.get("overlayClass")+" "+r+" "+s+" "+i+" "+a),this.set("dismissOnOverlayClick",e.dismissOnOverlayClick)))},remove:function(e){var l=this.get("modals");if(e.isClosed){var i=l.indexOf(e);i>-1&&l.splice(i,1),this.removeOverlay()}},close:function(){var e=this.get("modals").pop();e&&!e.isClosed&&e.close(),this.removeOverlay()},closeAll:function(){var e=this;this.get("modals").forEach(function(l,i){e.close()})},removeOverlay:function(){var e=this.get("overlay");if(0===this.get("modals").length&&e)this.removeOverlayClickHandler(e),this.removeOverlayKeyHandler(e),e.remove(),this.set("overlay",void 0),l--;else{var i=this.get("modals").length-1;i>-1&&this.setOverlayStyle(this.get("modals")[i].getAttrs())}},alreadyShowingModal:function(e){var l=!1;return e||(e="fluid-modal-view"),this.get("modals").forEach(function(i,a){i.name===e&&(l=!0)}),l}},{ATTRS:{modals:{value:[],validator:function(l){return e.Lang.isArray(l)}},overlayHTML:{},overlayClass:{},overlay:{value:void 0},dismissOnOverlayClick:{value:!0,setter:function(l){return e.AttributeHelpers.coerceBoolean(l)},validator:function(l){return e.Lang.isBoolean(l)}}}});e.OverlayManager={DroparoundOverlay:new i({overlayHTML:'<div class="fluid-droparound-overlay"></div>',overlayClass:"fluid-droparound-overlay"}),ModalOverlay:new i({overlayHTML:'<div class="fluid-modal-overlay"><div class="balls"></div></div>',overlayClass:"fluid-modal-overlay"}),ChalkboardOverlay:new i({overlayHTML:'<div class="fluid-chalkboard-overlay"></div>',overlayClass:"fluid-chalkboard-overlay"}),hasOverlay:function(){return l>0}}},"@VERSION@",{requires:["base","flickr-view","attribute-helpers"],optionalRequires:["fluid"]});YUI.add("fluid-droparound-view",function(e,t){"use strict";var i,r,n,o=require("hermes-core/flog")(t);i={css:{destinationContainer:"body",subviewContent:".content.subview",menuContent:".content.menu",droparoundContainer:".droparound",droparoundContent:".body .content",droparrow:".droparrow"},options:{}},r={supportsTransform:!1,droparound:{height:0,width:0}},n=function(e,t,i,r){var n,o,a,s,l,u,c=e.x,d=e.y,h=e.width,p=e.height,v=e.viewportX,g=t.width,f=t.height,b=i.height,w=i.width,H=i.preferredHorizontalOrientation,m=i.preferredVerticalOrientation,A=d<f/2,C=c<g/2;return"down"===m&&(A=!0),"up"===m&&(A=!1),"right"===H&&(C=!0),"left"===H&&(C=!1),i.ignoreBoundary||(b>v&&(A=!0),d+p+b<v&&(A=!1)),r?(n=h*i.anchorPivotHoriz,A?(l=d+p,u=d+p+b,o={vertical:"down"}):(l=d-b,u=d,o={vertical:"up"}),C?(a=c+n-i.arrowOffset-i.arrowWidth/2,a=Math.min(a,g-t.paddingHorizontal-w),s=(a=Math.max(a,t.paddingHorizontal))+w,o.horizontal="right"):(s=c+n+i.arrowOffset+i.arrowWidth/2,s=Math.max(s,w+t.paddingHorizontal),a=(s=Math.min(s,g-t.paddingHorizontal))-w,o.horizontal="left")):A?(l=d+p,u=d+p+b,o={vertical:"down"},C?(a=c,s=c+w,o.horizontal="right"):(a=c-w+h,s=c-h,o.horizontal="left")):(l=d-b,u=d,o={vertical:"up"},C?(a=c,s=c+w,o.horizontal="right"):(a=c-w+h,s=c-h,o.horizontal="left")),{coords:[a,s,l,u],orientation:o}},e.namespace("Views").FluidDroparound=e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(e){this.set("isActiveViewAgnostic",!0)},additionalViewClasses:function(){return this.appContext.flipper.isFlipped("enable-stacking-overlays")?[]:["no-stack-flip"]},buildContainer:function(){var e=this.get("width");if(!(this.get("textMessage")||this.get("htmlMessage")||this.get("subview")||this.get("menuItems")))return o.warn("requires a `textMessage`, `htmlMessage`, `subview`, or `menuItems`."),this;if(this.get("menuItems")&&this.set("menuItems",this.get("menuItems").filter(function(e){return!e.hidden})),this.appContext.flipper.isFlipped("enable-droparound-enhance-2021")&&this.get("keepInsideViewportHoriz")){var t=this.appContext.viewportData.getWidth()-2*this.get("viewportPaddingHoriz");e=Math.min(this.get("width"),t)}return this.setContainerWithTemplate("fluid-droparound",{textMessage:this.get("textMessage"),htmlMessage:this.get("message")?this.get("message"):this.get("htmlMessage"),subview:!!this.get("subview"),menuItems:this.get("menuItems"),multiSelect:this.get("multiSelect"),showDropArrow:this.get("showDropArrow"),hideModalOverlay:this.get("hideModalOverlay"),classList:this.get("classList"),footContent:this.get("footContent"),headContent:this.get("headContent"),staticWidth:e,staticHeight:this.get("height"),maxHeight:this.get("maxHeight"),positionFixed:this.get("positionFixed"),autoSizeToContent:this.get("autoSizeToContent"),contentPadding:this.get("contentPadding")}),this.appContext.flipper.isFlipped("enable-stacking-overlays")&&(this.overlayId=this.appContext.overlayManager.push({view:this,overlayClassList:this.get("overlayClassList"),hideOverlay:this.get("hideModalOverlay"),dismissOnOverlayClick:this.get("dismissOnOverlayClick"),ignorePointerEvents:this.get("invisibleOverlay"),dismissOnEsc:!0,disableBodyScroll:!1})),this.appendAndPosition(),this},activate:function(){var t=this.get("container"),r=this;this.appContext.flipper.isFlipped("enable-stacking-overlays")||(e.OverlayManager.DroparoundOverlay.add(this),e.OverlayManager.DroparoundOverlay.setOverlayStyle({overlayClassList:this.get("overlayClassList"),hideModalOverlay:this.get("hideModalOverlay"),invisibleOverlay:this.get("invisibleOverlay")})),this.registerEventHandler(e.on("droparound:reposition",e.bind(this.anchorPositionChange,this))),this.registerEventHandler(e.on("history:change",function(e){"popstate"===e.src&&e.prevVal&&e.newVal&&(e.prevVal.flickr&&e.prevVal.flickr.referrer||e.newVal.flickr&&e.newVal.flickr.referrer)||r.close(e)})),this.get("useDefaultKeyboardNavigation")&&e.use("keyboard-manager",function(e){r.registerEventHandler(t.on("keydown",r.keyboardNavigation,r))});var n=this.get("anchorElement"),o=this.get("keyboardAnchorElement");return o||(o=n.hasAttribute("aria-haspopup")?n:n.ancestor("[aria-haspopup=true]")),o&&(this.set("keyboardAnchorElement",o),this.get("keyboardAnchorElement").setAttribute("aria-expanded","true"),this.registerEventHandler(o.on("key",this.enterDroparound,"down:40",this))),this.get("subview")&&this.loadSubview(),this.get("menuItems")&&this.registerEventHandler(t.one(i.css.menuContent).delegate(["click","keydown"],function(e){"click"!==e.type&&13!==e.keyCode||this.onMenuItemClick(e)}.bind(this),"li")),this.get("observePageResize")&&this.observePageResize(),this.get("closeOnScroll")&&this.observePageScroll(),this.get("preventPageScrollOnScroll")&&this.registerEventHandler(t.on("mousewheel",this.preventPageScroll.bind(this))),this.fire("activated"),this},enterDroparound:function(e){var t=this.get("container").one("ul li");t&&(e.preventDefault(),t.focus())},keyboardNavigation:function(e){var t=e.keyCode,i=38===t||9===t&&e.shiftKey,r=40===t||9===t&&!e.shiftKey,n=e.target.ancestor("li",!0);if(!this.appContext.getKeyboardManager().inputHasFocus())if(i&&n&&n.previous("li"))e.preventDefault(),this.focusOnPreviousItem(e);else if(r)e.preventDefault(),n&&n.next("li")&&this.focusOnNextItem(e);else if((27===t||i)&&(!this.appContext.flipper.isFlipped("enable-stacking-overlays")||i)){e.preventDefault();var o=this.get("keyboardAnchorElement");o&&(this.close(),o.focus(),o.removeClass("no-outline"))}},focusOnPreviousItem:function(e){var t=e.target.ancestor("li",!0);if(t){var i=t.previous("li");i&&(i.one("a")?i.one("a").focus():i.focus())}},focusOnNextItem:function(e){var t=e.target.ancestor("li",!0);if(t){var i=t.next("li");i&&(i.one("a")?i.one("a").focus():i.focus())}},getDroparoundContainer:function(){return this.get("container")?this.get("container").one(i.css.droparoundContainer):null},loadSubview:function(){var t,r,n=!1,o=this.get("subview"),a=this;(t=this.get("container").one(i.css.subviewContent)).addClass("loading"),t.appendChild(e.Node.create(this.templates("flickr-balls")({})).addClass("flickr-balls")),r=setTimeout(function(){n=!0},40),this.loading=!0,o.appContext=a.appContext,o.set("isActiveViewAgnostic",!0),o.initialize().then(function(e){clearTimeout(r),n&&(e.get("container").addClass("load-transition"),setTimeout(function(){e.get("container").removeClass("load-transition")},1)),a.onSubviewInitialized(e)})},onSubviewInitialized:function(t){var r=this,n=this.get("container").one(i.css.subviewContent);this.loading&&(this.loading=!1,n.removeClass("loading"),n.one(".flickr-balls").remove(!0),n.appendChild(t.get("container")),t.on("subviewViewEvent",function(e){e&&e.details&&e.details.length&&r.fire.apply(r,e.details)}),t.normalizedActivate(),t.recursivelyActivateSubviews(),r.appendAndPosition(),r.registerEventHandler(r.get("subview").on("actionClick",e.bind(r.handleAction,r))),r.registerEventHandler(r.get("subview").on("readyToClose",e.bind(r.close,r))))},onMenuItemClick:function(e){var t,r,n;(t=e.target.ancestor("li",!0))&&-1!==(r=this.get("container").one(i.css.menuContent).all("li").indexOf(t))&&(n=this.get("menuItems")[r],this.get("multiSelect")&&(n.selected=!n.selected,t.toggleClass("selected")),this.fire("selected",{menuItemIndex:r,menuItem:n,origEvent:e}))},appendAndPosition:function(t){var n=e.one(i.css.destinationContainer),o=this.get("container").one(i.css.droparoundContainer);this.appContext.flipper.isFlipped("enable-stacking-overlays")?this.appContext.overlayManager.placeViewAfterOverlay(this.overlayId):n&&n.append(this.get("container")),r.droparound.width=this.get("width")||o.getComputedStyle("width"),r.droparound.height=this.get("height")||o.getComputedStyle("height"),this.repositionToElement(t||this.get("anchorElement"))},updateTextMessage:function(e){e&&""!==e&&(this.set("textMessage",e),this.buildContainer())},updateHTMLMessage:function(e){e&&""!==e&&(this.set("htmlMessage",e),this.buildContainer())},anchorPositionChange:function(){this.repositionToElement(this.get("anchorElement"))},observePageResize:function(){var t=this;this.registerEventHandler(e.globalEvents.subscribe("window:resize",function(i){e.fire("droparound:reposition"),t.get("closeOnResize")&&t.handleClose(i)}))},observePageScroll:function(){var t=YUI.Env.isServer?0:e.config.win.pageYOffset;this.get("startingScrollPoint")||this.set("startingScrollPoint",t),this.registerEventHandler(e.globalEvents.subscribe("window:scroll",this.handleScroll.bind(this)))},handleScroll:function(t){var i,r=this.get("startingScrollPoint");r?(i=e.config.win.pageYOffset,(r+this.get("closeOnScrollDistance")<i||r-this.get("closeOnScrollDistance")>i)&&this.handleClose(t)):this.set("startingScrollPoint",e.config.win.pageYOffset)},repositionToElement:function(e,t){var r,o,a,s=this.get("container"),l=this.get("positionFixed"),u=s.one(".droparound"),c=this.get("showDropArrow")?u.one(i.css.droparrow):void 0,d=u.one(i.css.droparoundContent),h=(d.get("offsetWidth"),d.get("offsetHeight"),c?c.get("offsetHeight"):0),p=c?c.get("offsetWidth"):0,v=e.getXY(),g=v[0],f=v[1],b=e.getDOMNode().getBoundingClientRect(),w=b.width;if(this.appContext.flipper.isFlipped("enable-droparound-enhance-2021")&&this.get("keepInsideViewportHoriz")){var H=this.appContext.viewportData.getWidth()-2*this.get("viewportPaddingHoriz"),m=this.get("width");m?u.setStyles({width:m}):u.setStyles({width:"auto"}),u.getDOMNode().getBoundingClientRect().width>H&&u.setStyles({width:H})}a=w*(o={width:u.get("offsetWidth"),height:u.get("offsetHeight"),arrowOffset:this.get("arrowOffset"),anchorPivotHoriz:this.get("anchorPivotHoriz"),arrowWidth:p}).anchorPivotHoriz,o.ignoreBoundary=!!t,this.get("preferLeft")&&(o.preferredHorizontalOrientation="left"),this.get("preferRight")&&(o.preferredHorizontalOrientation="right"),this.get("preferTop")&&(o.preferredVerticalOrientation="up"),this.get("preferBottom")&&(o.preferredVerticalOrientation="down"),(!this.anchorCoords||0!==this.x&&0!==this.y)&&(this.anchorCoords={x:l?b.left:g,y:l?b.top:f,width:b.width,height:b.height,viewportX:b.top||0});var A=n(this.anchorCoords,{width:this.appContext.viewportData.getWidth(),height:this.appContext.viewportData.getHeight(),paddingHorizontal:this.get("viewportPaddingHoriz")},o,this.appContext.flipper.isFlipped("enable-droparound-enhance-2021"));if("down"===A.orientation.vertical?A.coords[2]+=h-this.get("anchorOffsetVertical"):A.coords[2]-=h+this.get("anchorOffsetVertical"),this.appContext.flipper.isFlipped("enable-droparound-enhance-2021")||("right"===A.orientation.horizontal?A.coords[0]-=this.get("anchorOffsetHorizontal"):A.coords[0]+=this.get("anchorOffsetHorizontal")),u.setStyles({left:A.coords[0],top:A.coords[2]}),c)if(c.removeClass("down").removeClass("up").removeClass("left").removeClass("right").addClass(A.orientation.vertical),"left"===A.orientation.horizontal)if(this.appContext.flipper.isFlipped("enable-droparound-enhance-2021")){var C=this.appContext.viewportData.getWidth()-this.anchorCoords.x,y=this.appContext.viewportData.getWidth()-(o.width+A.coords[0]);c.setStyles({right:C-a-c.get("clientWidth")/2-y,left:"auto"})}else c.setStyles({right:10+this.get("mirrorArrowAdjustment"),left:"auto"});else if(this.appContext.flipper.isFlipped("enable-droparound-enhance-2021")){var O=this.anchorCoords.x,S=A.coords[0];c.setStyles({left:O+a-c.get("clientWidth")/2-S})}else c.setStyles({left:10+this.get("mirrorArrowAdjustment")});this.appContext.flipper.isFlipped("enable-droparound-enhance-2021")||this.get("menuItems")||this.get("autoSizeToContent")||(r={width:d.get("offsetWidth")+"px",height:d.get("offsetHeight")+"px"},d.setStyles(r))},handleClose:function(e){this.close()},handleAction:function(e){this.fire("actionClick",e),this.get("dismissOnActionClick")&&this.close(e)},show:function(){var e=!this.isActivated,t=this;return this.initialize().then(function(){t.isClosed=!1,e||t.activate()}),this},close:function(){var t=this.get("container");this.loading=!1,this.isClosed=!0;var i=this.get("keyboardAnchorElement");i&&(i.setAttribute("aria-expanded","false"),i.focus(),i.addClass("no-outline")),this.fire("closeDroparound"),this.destroy(),this.get("subview")&&this.get("subview").destroy(),t&&t.remove(!0),this.appContext.flipper.isFlipped("enable-stacking-overlays")?this.appContext.overlayManager.pop(this.overlayId):e.OverlayManager.DroparoundOverlay.remove(this)},destructor:function(){this.detachAll()},freeze:function(){e.one("body").setStyles({overflow:"hidden"})},unfreeze:function(){e.one("body").setStyles({overflow:"visible"})},preventPageScroll:function(e){var t,i,r=this.get("container"),n=e.target,o=!1;if(r.contains(n)){for(;n!==r&&!o;)"hidden"===n.getStyle("overflow")||"visible"===n.getStyle("overflow")||n.get("offsetHeight")>=n.get("scrollHeight")?n=n.get("parentNode"):o=!0;o&&(t=e.wheelDelta<0,((i=n.getDOMNode()).scrollTop<=0&&!t||i.scrollTop+i.offsetHeight>=i.scrollHeight&&t)&&e.preventDefault())}}},{ATTRS:{dismissOnOverlayClick:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnActionClick:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},hideModalOverlay:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},invisibleOverlay:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferredSide:{value:null},message:{value:null},textMessage:{value:null},htmlMessage:{value:null},footContent:{value:null},headContent:{value:null},width:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},height:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},maxHeight:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},subview:{value:null},menuItems:{value:null},classList:{value:"",validator:function(t,i){return e.AttributeHelpers.validateString(t)},setter:function(t,i){return e.AttributeHelpers.coerceString(t)}},anchorElement:{value:null},keyboardAnchorElement:{value:null},useDefaultKeyboardNavigation:{value:!0},showDropArrow:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},anchorOffsetVertical:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},anchorOffsetHorizontal:{value:5,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},arrowOffset:{value:8,validator:function(t,i){return e.AttributeHelpers.validateFloat(t)},setter:function(t,i){return e.AttributeHelpers.coerceFloat(t)}},keepInsideViewportHoriz:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},viewportPaddingHoriz:{value:2,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},anchorPivotHoriz:{value:.5,validator:function(t,i){return e.AttributeHelpers.validateFloat(t)},setter:function(t,i){return e.AttributeHelpers.coerceFloat(t)}},contentPadding:{value:void 0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},minVerticalSpace:{value:60,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},minHorizontalSpace:{value:60,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowWidth:{value:21,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowHeight:{value:11},anchorPositionOffset:{value:15,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},observePageResize:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferLeft:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferRight:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferTop:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferBottom:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},mirrorArrowAdjustment:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},positionFixed:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScroll:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScrollDistance:{value:40,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},closeOnResize:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},overlayClassList:{value:"",validator:function(t,i){return e.AttributeHelpers.validateString(t)},setter:function(t,i){return e.AttributeHelpers.coerceString(t)}},forceLeft:{value:null},forceRight:{value:null},autoSizeToContent:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},horizCenterToAnchor:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},multiSelect:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preventPageScrollOnScroll:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-fluid-droparound","hermes-template-flickr-balls","fluid-overlay-manager-view","attribute-helpers"],optionalRequires:["fluid"]});YUI.add("hermes-template-notifications",function(n,t){var e=n.Template.Handlebars.revive({1:function(n,t,e,l,a){return"\t\t<li>\n\t\t\t"+n.escapeExpression(n.lambda(t,t))+"\n\t\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,t,e,l,a){var i,o,s=null!=t?t:n.nullContext||{},c=n.hooks.helperMissing,r="function",h=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'<div class="notifications-container" style="width: '+h(typeof(o=null!=(o=u(e,"width")||(null!=t?u(t,"width"):t))?o:c)===r?o.call(s,{name:"width",hash:{},data:a,loc:{start:{line:1,column:51},end:{line:1,column:60}}}):o)+"; height: "+h(typeof(o=null!=(o=u(e,"height")||(null!=t?u(t,"height"):t))?o:c)===r?o.call(s,{name:"height",hash:{},data:a,loc:{start:{line:1,column:70},end:{line:1,column:80}}}):o)+"; overflow-x: "+h(typeof(o=null!=(o=u(e,"overflowX")||(null!=t?u(t,"overflowX"):t))?o:c)===r?o.call(s,{name:"overflowX",hash:{},data:a,loc:{start:{line:1,column:94},end:{line:1,column:107}}}):o)+"; overflow-y: "+h(typeof(o=null!=(o=u(e,"overflowY")||(null!=t?u(t,"overflowY"):t))?o:c)===r?o.call(s,{name:"overflowY",hash:{},data:a,loc:{start:{line:1,column:121},end:{line:1,column:134}}}):o)+';">\n\t<header>\n\t\t<div class="notifications-header-container">\n\t\t\t<h2>'+h((u(e,"intlMessage")||t&&u(t,"intlMessage")||c).call(s,{name:"intlMessage",hash:{intlName:"notifications.NOTIFICATIONS"},data:a,loc:{start:{line:4,column:7},end:{line:4,column:61}}}))+'</h2>\n\t\t</div>\n\t</header>\n\t<ul class="notifications-list" style="max-height: '+h(typeof(o=null!=(o=u(e,"listHeight")||(null!=t?u(t,"listHeight"):t))?o:c)===r?o.call(s,{name:"listHeight",hash:{},data:a,loc:{start:{line:7,column:51},end:{line:7,column:65}}}):o)+';">\n\t\t<li class="notifications-empty-state hidden">\n\t\t\t'+h((u(e,"intlMessage")||t&&u(t,"intlMessage")||c).call(s,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_NOTHING_HERE"},data:a,loc:{start:{line:9,column:3},end:{line:9,column:62}}}))+"\n\t\t</li>\n"+(null!=(i=u(e,"each").call(s,null!=t?u(t,"notifications"):t,{name:"each",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:11,column:2},end:{line:15,column:11}}}))?i:"")+'\t</ul>\n\n\t<a href="/activity" class="view-all" data-link-id="legacy_notifications_view_recent_activity_link">'+h((u(e,"intlMessage")||t&&u(t,"intlMessage")||c).call(s,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_VIEW_RECENT_ACTIVITY"},data:a,loc:{start:{line:18,column:100},end:{line:18,column:167}}}))+"</a>\n</div>\n"},useData:!0}),l={};n.Array.each([],function(t){var e=n.Template.get("hermes/"+t);e&&(l[t]=e)}),n.Template.register("hermes/notifications",function(t,a){return a=a||{},a.partials=a.partials?n.merge(l,a.partials):l,e(t,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("notification-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,attributes:{id:{},isSeen:{validator:function(e){return t.AttributeHelpers.validateBoolean(e)},setter:function(e){return t.AttributeHelpers.coerceBoolean(e)},defaultValue:!1},isMuted:{validator:function(e){return t.AttributeHelpers.validateBoolean(e)},setter:function(e){return t.AttributeHelpers.coerceBoolean(e)},defaultValue:!1},type:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},timestamp:{validator:function(e,r){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)}},activityData:{},eventDataList:[],userModels:[],activityEntityModels:{},eventEntityModelsList:[]}})},"@VERSION@",{requires:["flickr-model-registry"]});YUI.add("contact-models",function(e){"use strict";function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{pathAlias:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)||void 0},defaultFn:function(e){return e}},username:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},realname:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},displayname:{readOnly:!0,derivedBy:["username","realname"],getter:function(e,t){return this.getValue(t,"realname")||this.getValue(t,"username")}},iconfarm:{},iconserver:{},buddyicon:{},nsid:{readOnly:!0,defaultFn:function(e){return e}},isMe:{readOnly:!0,defaultFn:function(e){var t=this.appContext.getViewer();return t.signedIn&&t.nsid===e}},isPro:{defaultValue:!1,setter:function(t){return e.AttributeHelpers.coerceBoolean(t)}},proBadge:{defaultValue:"standard",setter:function(t){return e.AttributeHelpers.coerceString(t)}},profileURL:{readOnly:!0,derivedBy:["pathAlias","nsid"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"/photos/"+t}},followsURL:{readOnly:!0,derivedBy:["pathAlias","nsid"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"/people/"+t+"/contacts"}}}})},"@VERSION@",{requires:["flickr-model-registry","attribute-helpers","url-helper"]});YUI.add("notification-OLD-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-activity-recentByType"].run(t,this.appContext)}},attributes:{id:{setter:function(e){return e||this.appContext.getViewer().nsid}},seen:{},objectType:{},object:{isModel:!0},events:{isListProxy:!0},isMuted:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-activity-recentByType-fetcher"]});YUI.add("notification-group-discussion-models",function(r){function o(r){o.superclass.constructor.call(this,r)}r.Models[this.name]=o,r.extend(o,r.FlickrModelRegistry,{name:this.name,parseDiscussionModel:function(o,e,i,s){return{id:o,pathAlias:e,title:i.name,replyCount:i.replies,groupID:i.group_id,groupName:i.groupName,iconUrls:r.APIHelper.response.removeProtocolFromURL(i.iconurls),coverPhotoUrls:r.APIHelper.response.removeProtocolFromURL(i.coverphoto_url),group:s}},attributes:{id:{},pathAlias:{},title:{},replyCount:{},groupID:{},groupName:{},iconUrls:{},coverPhotoUrls:{},url:{readOnly:!0,derivedBy:["id","groupID"],defaultFn:function(r){return"/groups/"+this.getValue(r,"groupID")+"/discuss/"+r}},groupUrl:{readOnly:!0,derivedBy:["id","groupID"],defaultFn:function(r){return"/groups/"+this.getValue(r,"groupID")}},group:{isModel:!0}}})},"@VERSION@",{requires:["flickr-model-registry"]});